pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
p={}
 function _init()
  p.a=0
  p.s=1
 end

 function _draw()
  cls()
  cursor(0,0)
  color(7)
  print(p.a)
  spr_r(p.s,48,48,p.a,5,4)
 end

 function _update()
  if btnp(0) then p.a-=10 end
  if btnp(1) then p.a+=10 end 
  p.a=p.a%360 
 end

 function spr_r(s,x,y,a,w,h)
  sw=(w or 1)*8
  sh=(h or 1)*8
  sx=(s%8)*8
  sy=flr(s/8)*8
  x0=flr(0.5*sw)
  y0=flr(0.5*sh)
  a=a/360
  sa=sin(a)
  ca=cos(a)
  for ix=0,sw-1 do
   for iy=0,sh-1 do
    dx=ix-x0
    dy=iy-y0
    xx=flr(dx*ca-dy*sa+x0)
    yy=flr(dx*sa+dy*ca+y0)
    --if (xx>=0 and xx<sw and yy>=0 and yy<=sh) then
     pset(x+ix,y+iy,sget(sx+xx,sy+yy))
    --end
   end
  end
 end
__gfx__
00000000dddddddd61999916619999166199991600000000dddddddd000000000000000000000000000000000000000000000000000000000000000000000000
00000000dddddddd61999916619999166199991600000000dddddddd000000000000000000000000000000000000000000000000000000000000000000000000
00700700dd9d9ddd61999916619999166199991600000000dd9d9ddd000000000000000000000000000000000000000000000000000000000000000000000000
00077000dddddddd61999916619999166199991600000000dddddddd000000000000000000000000000000000000000000000000000000000000000000000000
00077000ddddd9dd61599516615995166159951600000000ddddd9dd000000000000000000000000000000000000000000000000000000000000000000000000
00700700d9dd9ddd61111116611111166111111600000000d9dd9ddd000000000000000000000000000000000000000000000000000000000000000000000000
00000000dddddddd63999936639999366399993600000000dddddddd000000000000000000000000000000000000000000000000000000000000000000000000
00000000dddddddd63333336633333366333333600000000dddddddd000000000000000000000000000000000000000000000000000000000000000000000000
00000000619999166199991661999916dddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000619999166199991661999916dddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000619999166199991661999916dd9d9ddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000619999166199991661999916dddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000615995166159951661599516ddddd9dd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000611111166111111661111116d9dd9ddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000639999366399993663999936dddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000633333366333333663333336dddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000dddddddd6199991661999916619999160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000dddddddd6199991661999916619999160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000dd9d9ddd6199991661999916619999160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000dddddddd6199991661999916619999160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ddddd9dd6159951661599516615995160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000d9dd9ddd6111111661111116611111160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000dddddddd6399993663999936639999360000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000dddddddd6333333663333336633333360000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000006199991661999916dddddddd619999160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000006199991661999916dddddddd619999160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000006199991661999916dd9d9ddd619999160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000006199991661999916dddddddd619999160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000006159951661599516ddddd9dd615995160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000006111111661111116d9dd9ddd611111160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000006399993663999936dddddddd639999360000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000006333333663333336dddddddd633333360000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
